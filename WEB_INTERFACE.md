# 🎨 Веб-интерфейс NoiseLab++

## Обзор

Веб-интерфейс NoiseLab++ представляет собой полнофункциональное Streamlit приложение для интерактивной квантовой томографии процессов.

## Функционал

### ✅ Реализованные возможности

#### 1. Панель управления экспериментом
- ✅ Выбор числа кубитов (1-2)
- ✅ Выбор типа канала:
  - Depolarizing Channel
  - Amplitude Damping Channel
  - Phase Damping Channel
  - Two-Qubit Depolarizing
  - Random CPTP Channel
- ✅ Настройка параметров каналов с помощью интерактивных слайдеров
- ✅ Настройка параметров томографии:
  - Число измерений (shots): 100-100,000
  - Ошибки считывания: 0-10%
- ✅ Выбор алгоритма реконструкции (LSQ / MLE)
- ✅ Запуск томографии одной кнопкой

#### 2. Визуализация каналов
- ✅ **Матрица Чой**: Интерактивная тепловая карта с отдельными действительной и мнимой частями
- ✅ **Операторы Крауса**:
  - Гистограмма весов операторов
  - Детальный просмотр матриц операторов
- ✅ **PTM (Pauli Transfer Matrix)**: Визуализация в виде тепловой карты
- ✅ **Сфера Блоха** (для 1 кубита):
  - 3D интерактивная визуализация
  - Траектории действия канала на тестовые состояния
  - Визуализация деформации сферы Блоха

#### 3. Графики и аналитика
- ✅ **Сравнение параметров**: Истинные vs восстановленные значения
- ✅ **Process Fidelity**: Метрика качества реконструкции
- ✅ **Множественные прогоны**:
  - Статистический анализ (среднее, стд, мин, макс)
  - Гистограмма распределения fidelity
  - Временной ряд по прогонам
- ✅ **Метрики качества**:
  - CPTP валидность
  - TP ошибка
  - Ранг Крауса
  - Число операторов Крауса

#### 4. Протокол и логи
- ✅ Список подготовленных состояний
- ✅ Параметры измерений
- ✅ Этапы реконструкции
- ✅ Итоговые метрики качества
- ✅ Детали выполнения

## Архитектура

```
web/
├── streamlit_app.py    # Главное приложение Streamlit
└── app.py              # Flask API (альтернативный backend)

.streamlit/
└── config.toml         # Конфигурация Streamlit

noiselab/               # Основная библиотека
├── channels/           # Модели каналов
├── tomography/         # QPT алгоритмы
├── metrics/            # Метрики и валидация
└── ...
```

## Технологии

- **Frontend Framework**: Streamlit 1.32+
- **Визуализация**: Plotly (интерактивные графики)
- **Вычисления**: NumPy, SciPy
- **Квантовые операции**: Qiskit
- **Оптимизация**: CVXPY (для MLE)

## Использование

### Базовый сценарий

1. **Запустите приложение:**
   ```bash
   streamlit run web/streamlit_app.py
   ```

2. **Настройте эксперимент:**
   - Выберите 1 кубит
   - Выберите Depolarizing канал
   - Установите p = 0.1
   - Shots = 1000

3. **Запустите:**
   - Нажмите "🚀 Запустить томографию"

4. **Изучите результаты:**
   - Вкладка "Визуализация каналов"
   - Вкладка "Графики и аналитика"
   - Вкладка "Протокол"

### Продвинутое использование

#### Сравнение разных каналов

1. Запустите томографию с каналом A
2. Сохраните скриншоты/результаты
3. Измените канал на B
4. Запустите снова
5. Сравните Process Fidelity

#### Исследование влияния шума

1. Запустите без шума (readout_error = 0)
2. Запустите с небольшим шумом (0.01)
3. Запустите с большим шумом (0.05)
4. Сравните деградацию fidelity

#### Статистический анализ

1. Включите "Множественные прогоны"
2. Установите 20-50 прогонов
3. Изучите распределение fidelity
4. Оцените стабильность метода

## Производительность

### Время выполнения (типичные значения)

| Конфигурация | Время |
|--------------|-------|
| 1 кубит, 1000 shots, LSQ | ~5 сек |
| 1 кубит, 5000 shots, MLE | ~30 сек |
| 2 кубита, 1000 shots, LSQ | ~30 сек |
| 2 кубита, 5000 shots, MLE | ~2 мин |

### Рекомендации по оптимизации

1. **Быстрое тестирование:**
   - Используйте LSQ вместо MLE
   - Уменьшите shots до 500-1000
   - Отключите шум измерений

2. **Точные результаты:**
   - Используйте MLE
   - Увеличьте shots до 5000+
   - Запустите множественные прогоны

3. **Исследование 2-кубитных систем:**
   - Начните с 1000 shots
   - Используйте LSQ для предварительной оценки
   - Переключитесь на MLE для финальных результатов

## Кастомизация

### Изменение темы

Отредактируйте `.streamlit/config.toml`:

```toml
[theme]
primaryColor = "#FF4B4B"  # Красная тема
backgroundColor = "#0E1117"  # Темный фон
secondaryBackgroundColor = "#262730"
textColor = "#FAFAFA"
font = "monospace"
```

### Добавление новых каналов

1. Добавьте канал в `noiselab/channels/noise_models.py`
2. Обновите функцию `create_channel()` в `streamlit_app.py`
3. Добавьте в список `channel_types`
4. Добавьте UI для параметров

### Экспорт результатов (будущая функция)

```python
# Пример кода для будущей версии
import json

def export_results(result):
    data = {
        'process_fidelity': float(result.process_fidelity),
        'choi_matrix': result.reconstructed_channel.get_choi_matrix().tolist(),
        # ...
    }

    with open('results.json', 'w') as f:
        json.dump(data, f, indent=2)

    st.download_button('Download Results', json.dumps(data))
```

## Скриншоты

### Главный интерфейс
```
┌───────────────────────────────────────────────────────┐
│       ⚛️ NoiseLab++ Quantum Process Tomography       │
│    Интерактивная платформа для исследования          │
│            квантовых каналов                          │
└───────────────────────────────────────────────────────┘

┌─────────────┬─────────────────────────────────────────┐
│ ⚙️ Панель   │  📈 Ключевые метрики                    │
│             │                                         │
│ 1️⃣ Кубиты   │  ┌──────────┬──────┬────────┬────────┐ │
│   • 1       │  │ Fidelity │ CPTP │TP error│  Rank  │ │
│   ○ 2       │  │  0.9834  │  ✅  │ 1.2e-5 │   4    │ │
│             │  └──────────┴──────┴────────┴────────┘ │
│ 2️⃣ Канал    │                                         │
│ Depolarizing│  📊 Визуализация | 📉 Графики | 📝 Лог  │
│             │                                         │
│ p = 0.10    │  [Матрица Чой - Тепловая карта]        │
│             │                                         │
│ 3️⃣ Томог.   │  [Операторы Крауса - Гистограмма]      │
│ Shots: 1000 │                                         │
│             │  [PTM - Матрица]                        │
│ 4️⃣ Шум      │                                         │
│ ☐ Вкл       │  [Сфера Блоха - 3D]                    │
│             │                                         │
│ 5️⃣ Метод    │                                         │
│   • LSQ     │                                         │
│   ○ MLE     │                                         │
│             │                                         │
│ ┌─────────┐ │                                         │
│ │🚀 Запуск│ │                                         │
│ └─────────┘ │                                         │
└─────────────┴─────────────────────────────────────────┘
```

## Известные ограничения

1. **Число кубитов**: Поддерживается до 3 кубитов (3 кубита требуют больше ресурсов)
2. **Максимальные shots**: 100,000 для 1-2 кубитов, 50,000 для 3 кубитов
3. **Экспорт данных**: Пока не реализован (планируется в следующей версии)
4. **3-кубитные системы**: Требуют минимум 3000 shots для приемлемой точности
5. **Визуализация Блох-сферы**: Доступна только для 1 кубита

## Планы развития

### Версия 1.1 (ближайшие обновления)
- [ ] Экспорт результатов (JSON, CSV, PDF отчет)
- [ ] Сохранение и загрузка экспериментов
- [ ] Сравнение нескольких экспериментов
- [ ] История экспериментов

### Версия 1.2
- [ ] 3-кубитные системы (опционально)
- [ ] Кастомные каналы (загрузка матрицы Чой)
- [ ] Batch-режим (обработка нескольких каналов)
- [ ] REST API для интеграции

### Версия 2.0
- [ ] Реальные квантовые устройства (IBMQ, Rigetti)
- [ ] Машинное обучение для оптимизации
- [ ] Collaborative features (несколько пользователей)
- [ ] Dashboard с метриками

## Поддержка

**Вопросы и проблемы:**
- Откройте issue на GitHub
- Проверьте логи в консоли
- Изучите документацию

**Документация:**
- [README.md](README.md) - Основная документация
- [QUICKSTART.md](QUICKSTART.md) - Быстрый старт
- [RUN.md](RUN.md) - Детальный запуск
- [DEPLOY.md](DEPLOY.md) - Деплой

## Лицензия

См. LICENSE файл в корне проекта.

---

**NoiseLab++ - Исследуйте квантовые каналы с удовольствием! 🎉**
